<!DOCTYPE html>
<html>
    <body>
        <iframe
        id="testvideo"
        name="testvideo"
        width="880"
        height="500"
        tabindex="1"
        src="https://www.youtube.com/embed/16SpzJDaXRc?autoplay=1"
        frameborder="0"
        allow="accelerometer; autoplay; gyroscope; picture-in-picture"
        allowfullscreen
    ></iframe>
        <script>
            const iframe = document.getElementsByTagName('iframe')[0]
            let url = iframe.src
            // eslint-disable-next-line no-unused-vars, no-var
            var getData = function(data) {
                if (
                    data &&
                    data.query &&
                    data.query.results &&
                    data.query.results.resources &&
                    data.query.results.resources.content &&
                    data.query.results.resources.status === 200
                )
                    loadHTML(data.query.results.resources.content)
                else if (data && data.error && data.error.description) loadHTML(data.error.description)
                else loadHTML('Error: Cannot load ' + url)
            }
            const loadURL = function(src) {
                url = src
                const script = document.createElement('script')
                script.src =
                    'https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.headers%20where%20url%3D%22' +
                    encodeURIComponent(url) +
                    '%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=getData'
                document.body.appendChild(script)
            }
            // eslint-disable-next-line no-unused-vars, no-var
            var loadHTML = function(html) {
                iframe.src = 'about:blank'
                iframe.contentWindow.document.open()
                iframe.contentWindow.document.write(
                    html.replace(
                        /<head>/i,
                        '<head><base href="' +
                            url +
                            '"><scr' +
                            'ipt>document.addEventListener("click", function(e) { if(e.target && e.target.nodeName == "A") { e.preventDefault(); parent.loadURL(e.target.href); } });</scr' +
                            'ipt>',
                    ),
                )
                iframe.contentWindow.document.close()
            }

            loadURL(iframe.src)
        </script>
    </body>
</html>